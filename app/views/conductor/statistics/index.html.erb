<%= stylesheet_link_tag "conductor/statistics" %>

<h1>Statistics</h1>

<table id="stats">
  <tr>
    <th>Name</th>
    <th>Lines</th>
    <th>LOC</th>
    <th>Classes</th>
    <th>Methods</th>
    <th>Methods/class</th>
    <th>LOC/method</th>
  </tr>
  <% @stats.lines.each do |line| %>
    <tr class="statistic">
      <th><%= line[:name] %></th>
      <td><%= line[:lines] %></td>
      <td><%= line[:codelines] %></td>
      <td><%= line[:classes] %></td>
      <td><%= line[:methods] %></td>
      <td><%= line[:m_over_c] %></td>
      <td><%= line[:loc_over_m] %></td>
    </tr>
  <% end %>

  <%
    if @stats.pairs.length > 1
    line = @stats.total_line
  %>
    <tr class="statistic">
      <th><%= line[:name] %></th>
      <td><%= line[:lines] %></td>
      <td><%= line[:codelines] %></td>
      <td><%= line[:classes] %></td>
      <td><%= line[:methods] %></td>
      <td><%= line[:m_over_c] %></td>
      <td><%= line[:loc_over_m] %></td>
    </tr>
  <% end %>
</table>

<table>
<tr><th>Code LOC</th><th>Test LOC</th><th>Code to Test Ratio</th></tr>
<tr><td><%= @stats.code_loc %></td><td><%= @stats.tests_loc %></td><td>1:<%= @stats.code_to_test %></td></tr>
</table>